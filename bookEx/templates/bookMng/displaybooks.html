{% extends "base.html" %}
{% load static %}

{% block title %}
    Display Books
{% endblock title %}

{#{% block sidenav %}#}
{#    {% for item in item_list %}#}
{#        <li>#}
{#            <a href="{{ item.link }}"> {{ item.item }} </a>#}
{#        </li>#}
{#    {% endfor %}#}
{#{% endblock sidenav %}#}


{% block content %}

    <div class="container-fluid">
        <div class="container " align="center">
            <div class="badge badge-pill badge-dark  mt-4"><h1 align="center"
                                                               class="display-4 mx-auto my-auto px-3 py-2"> All
                Books </h1></div>
        </div>

        <form method="get">
            {{myFilter.form}}
            <button type="submit"> Search</button>
        </form>


        <table class="table table-hover mx-auto my-4" id="my-books-table" align="center" border="2" width="800">
            <thead class="thead-dark">
            <tr>
                <th scope="col"> Name</th>
                <th scope="col"> Price</th>
                <th scope="col"> Date</th>
                <th scope="col"> Image</th>
                <th scope="col">Posted By</th>

            </tr>
            </thead>
            {% for book in books %}
                <tr>
                    <td class="lead">
                        <a href="book_detail/{{ book.id }}" align="">
                            {{ book.name }}
                        </a>
                    </td>
                    <td class="lead">{{ book.price }}</td>
                    <td class="lead">{{ book.publishdate }}</td>

                    <td class="lead"><img src="{% static book.pic_path %}" width="40" height="40" alt=""></td>
                    <td class="lead">
                        {{ book.username }}
                    </td>

                </tr>
            {% endfor %}
        </table>

         <div  class = "pagination justify-content-center" align="center">
            <div class ="row mb-10">
                {% for num in books.paginator.page_range %}
                    {%if books.number == num %}
                        <div class ="col-2">
                            <button class ="pgn-btn btn btn-dark mx-auto">{{num}}</button>
                        </div>

                    {% elif num > books.number|add:'-3' and num < books.number|add:'3' %}
                    <div class ="pgn-btn col-2 page-btn ">
                         <a class ="btn btn-inverse" href="?page={{num}}">{{num}}</a>
                    </div>

                    {% endif %}
                {% endfor %}
            </div>
    </div>
</div>

{% endblock content %}